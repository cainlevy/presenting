<% form_for @form.presentable, :url => @form.url, :method => @form.method, :html => @form.html do |f| %>
  <% @form.groups.each do |group| %>
    <fieldset>
      <% unless group.name.blank? %>
        <legend><%= group.name %></legend>
      <% end %>
      <% group.fields.each do |field| %>
        <% if field.type.to_sym == :hidden %>
          <%= f.present(field) %>
        <% else %>
          <div class="field">
            <%= f.label field.name, field.label %>
            <%= f.present(field) %>
          </div>
        <% end %>
      <% end %>
    </fieldset>
  <% end %>
  <%= f.submit @form.button %>
<% end %>
